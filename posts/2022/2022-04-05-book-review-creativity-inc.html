<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ed Catmull">
<meta name="dcterms.date" content="2022-04-05">
<meta name="description" content="Sobre cómo poder crear un ambiente de trabajo donde pueda flocerer la (elusiva) creatividad">

<title>sebastiandres.xyz - Creativity INC</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-HG9BYLK8FC"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-HG9BYLK8FC', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">sebastiandres.xyz</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Inicio</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../pages/blog.html" rel="" target="">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../pages/historias.html" rel="" target="">
 <span class="menu-text">Historias</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../pages/charlas.html" rel="" target="">
 <span class="menu-text">Charlas</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../pages/proyectos.html" rel="" target="">
 <span class="menu-text">Apps y Repos</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../pages/librerias.html" rel="" target="">
 <span class="menu-text">Librerías</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../pages/publicaciones.html" rel="" target="">
 <span class="menu-text">Publicaciones</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-tutoriales" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Tutoriales</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-tutoriales">    
        <li>
    <a class="dropdown-item" href="../../tutorial/quarto.html" rel="" target="">
 <span class="dropdown-text">Quarto</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../tutorial/streamlit.html" rel="" target="">
 <span class="dropdown-text">Streamlit</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../pages/about.html" rel="" target="">
 <span class="menu-text">Sobre mí</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/sebastiandres/" rel="" target=""><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/sebastiandres" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/sebastiandres" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#comentario" id="toc-comentario" class="nav-link active" data-scroll-target="#comentario">Comentario</a></li>
  <li><a href="#top-3-lecciones" id="toc-top-3-lecciones" class="nav-link" data-scroll-target="#top-3-lecciones">Top 3 lecciones</a></li>
  <li><a href="#otros" id="toc-otros" class="nav-link" data-scroll-target="#otros">Otros</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Creativity INC</h1>
  <div class="quarto-categories">
    <div class="quarto-category">lectura</div>
  </div>
  </div>

<div>
  <div class="description">
    Sobre cómo poder crear un ambiente de trabajo donde pueda flocerer la (elusiva) creatividad
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Ed Catmull </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 5, 2022</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="comentario" class="level2">
<h2 class="anchored" data-anchor-id="comentario">Comentario</h2>
<p>Muy buen libro, aunque creo que no habla tanto de la creatividad en sí misma, sino en cómo poder crear un ambiente de trabajo donde pueda flocerer la (elusiva) creatividad. Me gustó mucho conocer más de la historia de las películas de Pixar, desde que eran conceptos y malas ideas, y como es el proceso en el cual se transforman en grandes historias. El arte del storytelling, una vez más, es una de las cosas que me encanta y de las cuales me gustaría aprender más. La historia de Pixar, que desborda éxito y creatividad, ha sido un proceso de esfuerzo y aprendizaje muchas veces cercana al fracaso.</p>
</section>
<section id="top-3-lecciones" class="level2">
<h2 class="anchored" data-anchor-id="top-3-lecciones">Top 3 lecciones</h2>
<p><strong>Metáforas de lo que es dirigir una compañía:</strong></p>
<blockquote class="blockquote">
<p>On the long journey to the land of plenty, the pioneers would be full of purpose and united by the goal of reaching their destination. Once they arrived, he’d say, people would come and go, and that was as it should be. But the process of moving toward something—of having not yet arrived—was what he idealized.</p>
</blockquote>
<blockquote class="blockquote">
<p>“If you’re sailing across the ocean and your goal is to avoid weather and waves, then why the hell are you sailing?” he says. “You have to embrace that sailing means that you can’t control the elements and that there will be good days and bad days and that, whatever comes, you will deal with it because your goal is to eventually get to the other side.</p>
</blockquote>
<blockquote class="blockquote">
<p>What interests me is the number of people who believe that they have the ability to drive the train and who think that this is the power position—that driving the train is the way to shape their companies’ futures. The truth is, it’s not. Driving the train doesn’t set its course. The real job is laying the track.</p>
</blockquote>
<p><strong>Sobre los equipos de trabajo:</strong></p>
<blockquote class="blockquote">
<p>Ideas come from people. Therefore, people are more important than ideas.</p>
</blockquote>
<blockquote class="blockquote">
<p>Getting the team right is the necessary precursor to getting the ideas right.</p>
</blockquote>
<blockquote class="blockquote">
<p>Find, develop, and support good people, and they in turn will find, develop, and own good ideas.</p>
</blockquote>
<blockquote class="blockquote">
<p>If you give a good idea to a mediocre team, they will screw it up. If you give a mediocre idea to a brilliant team, they will either fix it or throw it away and come up with something better.</p>
</blockquote>
<blockquote class="blockquote">
<p>We start from the presumption that our people are talented and want to contribute.</p>
</blockquote>
<blockquote class="blockquote">
<p>Supporting your employees means encouraging them to strike a balance not merely by saying, “Be balanced!” but also by making it easier for them to achieve balance.</p>
</blockquote>
<p><strong>Sobre la calidad:</strong></p>
<blockquote class="blockquote">
<p>Excellence must be an earned word, attributed by others to us, not proclaimed by us about ourselves.</p>
</blockquote>
<blockquote class="blockquote">
<p>You don’t have to ask permission to take responsibility.</p>
</blockquote>
<blockquote class="blockquote">
<p>“Quality is the best business plan.”</p>
</blockquote>
<p><strong>Sobre los errores:</strong></p>
<blockquote class="blockquote">
<p>This principle eludes most people, but it is critical: You are not your idea, and if you identify too closely with your ideas, you will take offense when they are challenged. To set up a healthy feedback system, you must remove power dynamics from the equation — you must enable yourself, in other words, to focus on the problem, not the person.</p>
</blockquote>
<blockquote class="blockquote">
<p>I always feel like whatever notes you’re giving should inspire the recipient — like, ‘How do I get that kid to want to redo his homework?’ So, you’ve got to act like a teacher. Sometimes you talk about the problems in fifty different ways until you find that one sentence that you can see makes their eyes pop, as if they’re thinking, ‘Oh, I want to do it.’</p>
</blockquote>
<blockquote class="blockquote">
<p>Management’s job is not to prevent risk but to build the ability to recover.</p>
</blockquote>
<blockquote class="blockquote">
<p>For many people, changing course is also a sign of weakness, tantamount to admitting that you don’t know what you are doing. This strikes me as particularly bizarre — personally, I think the person who can’t change his or her mind is dangerous. Steve Jobs was known for changing his mind instantly in the light of new facts, and I don’t know anyone who thought he was weak.</p>
</blockquote>
<blockquote class="blockquote">
<p>How, then, do you make failure into something people can face without fear? Part of the answer is simple: If we as leaders can talk about our mistakes and our part in them, then we make it safe for others. You don’t run from it or pretend it doesn’t exist. That is why I make a point of being open about our meltdowns inside Pixar,</p>
</blockquote>
<blockquote class="blockquote">
<p>The overplanners just take longer to be wrong (and, when things inevitably go awry, are more crushed by the feeling that they have failed). There’s a corollary to this, as well: The more time you spend mapping out an approach, the more likely you are to get attached to the plan.</p>
</blockquote>
<blockquote class="blockquote">
<p>Getting middle managers to tolerate (and not feel threatened by) problems and surprises is one of our most important jobs; they already feel the weight of believing that if they screw up, there will be hell to pay. How do we get people to reframe the way they think about the process and the risks?</p>
</blockquote>
<blockquote class="blockquote">
<p>The trick is to forget our models about what we “should” be. A better measure of our success is to look at the people on our team and see how they are working together. Can they rally to solve key problems? If the answer is yes, you are managing well.</p>
</blockquote>
</section>
<section id="otros" class="level2">
<h2 class="anchored" data-anchor-id="otros">Otros</h2>
<blockquote class="blockquote">
<p>Mistakes aren’t a necessary evil. They aren’t evil at all. They are an inevitable consequence of doing something new (and, as such, should be seen as valuable; without them, we’d have no originality). And yet, even as I say that embracing failure is an important part of learning, I also acknowledge that acknowledging this truth is not enough. That’s because failure is painful, and our feelings about this pain tend to screw up our understanding of its worth. To disentangle the good and the bad parts of failure, we have to recognize both the reality of the pain and the benefit of the resulting growth.</p>
</blockquote>
<blockquote class="blockquote">
<p>This is key: When experimentation is seen as necessary and productive, not as a frustrating waste of time, people will enjoy their work — even when it is confounding them.</p>
</blockquote>
<blockquote class="blockquote">
<p>Can we teach in a way that our directors will think smart when we’re not around?”</p>
</blockquote>
<blockquote class="blockquote">
<p>Making the process better, easier, and cheaper is an important aspiration, something we continually work on—but it is not the goal. Making something great is the goal.</p>
</blockquote>
<blockquote class="blockquote">
<p>But if every day is sunny and it doesn’t rain, things don’t grow. And if it’s sunny all the time—if, in fact, we don’t ever even have night—all kinds of things don’t happen and the planet dries up. The key is to view conflict as essential, because that’s how we know the best ideas will be tested and survive. You know, it can’t only be sunlight.”</p>
</blockquote>
<blockquote class="blockquote">
<p>Here’s what we all know, deep down, even though we might wish it weren’t true: Change is going to happen, whether we like it or not. Some people see random, unforeseen events as something to fear. I am not one of those people. To my mind, randomness is not just inevitable; it is part of the beauty of life. Acknowledging it and appreciating it helps us respond constructively when we are surprised. Fear makes people reach for certainty and stability, neither of which guarantee the safety they imply. I take a different approach. Rather than fear randomness, I believe we can make choices to see it for what it is and to let it work for us. The unpredictable is the ground on which creativity occurs. Our tenth movie, Up, would be one of our most emotionally rich and original films, but it was also a case study in change and randomness.</p>
</blockquote>
<blockquote class="blockquote">
<p>I’ve heard some people describe creativity as ‘unexpected connections between unrelated concepts or ideas.’</p>
</blockquote>
<blockquote class="blockquote">
<p>This is the puzzle of trying to understand randomness: Real patterns are mixed in with random events, so it is extraordinarily difficult for us to differentiate between chance and skill.</p>
</blockquote>
<blockquote class="blockquote">
<p>If all our careful planning cannot prevent problems, then our best method of response is to enable employees at every level to own the problems and have the confidence to fix them. We want people to feel like they can take steps to solve problems without asking permission.</p>
</blockquote>
<blockquote class="blockquote">
<p>Our mental models aren’t reality. They are tools, like the models weather forecasters use to predict the weather.</p>
</blockquote>
<blockquote class="blockquote">
<p>The problem comes when people think that data paints a full picture, leading them to ignore what they can’t see. Here’s my approach: Measure what you can, evaluate what you measure, and appreciate that you cannot measure the vast majority of what you do.</p>
</blockquote>
<blockquote class="blockquote">
<p>In my experience, creative people discover and realize their visions over time and through dedicated, protracted struggle. In that way, creativity is more like a marathon than a sprint. You have to pace yourself.</p>
</blockquote>
<blockquote class="blockquote">
<p>You’ll never stumble upon the unexpected if you stick only to the familiar. In my experience, when people go out on research trips, they always come back changed.</p>
</blockquote>
<blockquote class="blockquote">
<p>Companies, like individuals, do not become exceptional by believing they are exceptional but by understanding the ways in which they aren’t exceptional. Postmortems are one route into that understanding. In a postmortem, you can raise questions that should be asked on the next project. A good postmortem arms people with the right questions to ask going forward. We shouldn’t expect to find the right answers, but if we can get people to frame the right questions, then we’ll be ahead of the game.</p>
</blockquote>
<blockquote class="blockquote">
<p>Alan Kay—Apple’s chief scientist and the man who introduced me to Steve Jobs—expressed it well when he said, “The best way to predict the future is to invent it.”</p>
</blockquote>
<blockquote class="blockquote">
<p>“People want decisiveness, but they also want honesty about when you’ve effed up,” as Andrew says. “It’s a huge lesson: Include people in your problems, not just your solutions.”</p>
</blockquote>
<blockquote class="blockquote">
<p>In big organizations there are advantages to consistency, but I strongly believe that smaller groups within the larger whole should be allowed to differentiate themselves and operate according to their own rules, so long as those rules work. This fosters a sense of personal ownership and pride in the company that, to my mind, benefits the larger enterprise.</p>
</blockquote>
<blockquote class="blockquote">
<p>Notes Day was a success in part because it was based on the idea that fixing things is an ongoing, incremental process. Creative people must accept that challenges never cease, failure can’t be avoided, and “vision” is often an illusion.</p>
</blockquote>
<blockquote class="blockquote">
<p>The truth is, as challenges emerge, mistakes will always be made, and our work is never done. We will always have problems, many of which are hidden from our view; we must work to uncover them and assess our own role in them, even if doing so means making ourselves uncomfortable; when we then come across a problem, we must marshal all our energies to solve it.</p>
</blockquote>
<blockquote class="blockquote">
<p>Be wary of making too many rules. Rules can simplify life for managers, but they can be demeaning to the 95 percent who behave well. Don’t create rules to rein in the other 5 percent—address abuses of common sense individually. This is more work but ultimately healthier.</p>
</blockquote>
<blockquote class="blockquote">
<p>“In many ways, the work of a critic is easy,” Ego says. “We risk very little yet enjoy a position over those who offer up their work and their selves to our judgment. We thrive on negative criticism, which is fun to write and to read. But the bitter truth we critics must face is that in the grand scheme of things, the average piece of junk is probably more meaningful than our criticism designating it so. But there are times when a critic truly risks something, and that is in the discovery and defense of the new.</p>
</blockquote>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>